diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/Interfaces/MainMenu.strings iTerm2-patched/Interfaces/MainMenu.strings
*** iTerm2/Interfaces/MainMenu.strings	2017-10-26 17:21:49.000000000 +1100
--- iTerm2-patched/Interfaces/MainMenu.strings	2017-10-26 17:22:50.000000000 +1100
***************
*** 167,173 ****
  "Window" = "Window";
  
  /* NSTextField (iTerm) : <title:iTerm> (oid:510) */
! "iTerm" = "iTerm";
  
  /* NSMenuItem : <title:iTerm Help> (oid:111) */
  "iTerm Help" = "iTerm Help";
--- 167,173 ----
  "Window" = "Window";
  
  /* NSTextField (iTerm) : <title:iTerm> (oid:510) */
! "Terminal" = "Terminal";
  
  /* NSMenuItem : <title:iTerm Help> (oid:111) */
  "iTerm Help" = "iTerm Help";
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/Interfaces/MainMenu.xib iTerm2-patched/Interfaces/MainMenu.xib
*** iTerm2/Interfaces/MainMenu.xib	2017-10-26 17:21:49.000000000 +1100
--- iTerm2-patched/Interfaces/MainMenu.xib	2017-10-26 17:22:50.000000000 +1100
***************
*** 1,7 ****
  <?xml version="1.0" encoding="UTF-8"?>
! <document type="com.apple.InterfaceBuilder3.Cocoa.XIB" version="3.0" toolsVersion="12121" systemVersion="16E195" targetRuntime="MacOSX.Cocoa" propertyAccessControl="none">
      <dependencies>
!         <plugIn identifier="com.apple.InterfaceBuilder.CocoaPlugin" version="12121"/>
      </dependencies>
      <objects>
          <customObject id="-2" userLabel="File's Owner" customClass="NSApplication">
--- 1,7 ----
  <?xml version="1.0" encoding="UTF-8"?>
! <document type="com.apple.InterfaceBuilder3.Cocoa.XIB" version="3.0" toolsVersion="13196" targetRuntime="MacOSX.Cocoa" propertyAccessControl="none">
      <dependencies>
!         <plugIn identifier="com.apple.InterfaceBuilder.CocoaPlugin" version="13196"/>
      </dependencies>
      <objects>
          <customObject id="-2" userLabel="File's Owner" customClass="NSApplication">
***************
*** 13,20 ****
          <customObject id="-3" userLabel="Application" customClass="NSObject"/>
          <menu title="MainMenu" systemMenu="main" id="29" userLabel="MainMenu">
              <items>
!                 <menuItem title="iTerm2" id="56">
!                     <menu key="submenu" title="iTerm2" systemMenu="apple" id="57">
                          <items>
                              <menuItem title="About iTerm2" identifier="About iTerm2" id="233">
                                  <connections>
--- 13,20 ----
          <customObject id="-3" userLabel="Application" customClass="NSObject"/>
          <menu title="MainMenu" systemMenu="main" id="29" userLabel="MainMenu">
              <items>
!                 <menuItem title="Terminal" id="56">
!                     <menu key="submenu" title="Terminal" systemMenu="apple" id="57">
                          <items>
                              <menuItem title="About iTerm2" identifier="About iTerm2" id="233">
                                  <connections>
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/sources/PseudoTerminal.m iTerm2-patched/sources/PseudoTerminal.m
*** iTerm2/sources/PseudoTerminal.m	2017-10-26 17:21:50.000000000 +1100
--- iTerm2-patched/sources/PseudoTerminal.m	2017-10-26 17:23:11.000000000 +1100
***************
*** 638,644 ****
          [myWindow setFrame:initialFrame display:NO];
      }
  
!     [myWindow setHasShadow:(windowType == WINDOW_TYPE_NORMAL)];
  
      DLog(@"Create window %@", myWindow);
  
--- 638,644 ----
          [myWindow setFrame:initialFrame display:NO];
      }
  
!     [myWindow setHasShadow:YES]; // PATCH: (Modified) Native macOS window shadow
  
      DLog(@"Create window %@", myWindow);
  
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/sources/iTermAdvancedSettingsModel.h iTerm2-patched/sources/iTermAdvancedSettingsModel.h
*** iTerm2/sources/iTermAdvancedSettingsModel.h	2017-10-26 17:21:50.000000000 +1100
--- iTerm2-patched/sources/iTermAdvancedSettingsModel.h	2017-10-26 17:24:34.000000000 +1100
***************
*** 23,28 ****
--- 23,30 ----
  + (NSString *)searchCommand;
  + (BOOL)dockIconTogglesWindow DEPRECATED_ATTRIBUTE;
  + (double)timeBetweenBlinks;
+ + (double)timeBeforeBlinks; // PATCH: (Added) Duration before cursor blinking starts
+ + (BOOL)setCursorForegroundColor; // PATCH: (Added) Set cursor foreground color
  + (BOOL)neverWarnAboutMeta;
  + (BOOL)neverWarnAboutOverrides;
  + (BOOL)neverWarnAboutPossibleOverrides;
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/sources/iTermAdvancedSettingsModel.m iTerm2-patched/sources/iTermAdvancedSettingsModel.m
*** iTerm2/sources/iTermAdvancedSettingsModel.m	2017-10-26 17:21:50.000000000 +1100
--- iTerm2-patched/sources/iTermAdvancedSettingsModel.m	2017-10-26 17:24:34.000000000 +1100
***************
*** 111,116 ****
--- 111,120 ----
  #pragma mark Terminal
  DEFINE_BOOL(traditionalVisualBell, NO, @"Terminal: Visual bell flashes the whole screen, not just a bell icon.");
  DEFINE_FLOAT(timeBetweenBlinks, 0.5, @"Terminal: Cursor blink speed (seconds).");
+ // PATCH: (Added) Duration before cursor blinking starts
+ DEFINE_FLOAT(timeBeforeBlinks, 0.5, @"Terminal: Duration before cursor starts blinking.");
+ // PATCH: (Added) Set cursor foreground color
+ DEFINE_BOOL(setCursorForegroundColor, YES, @"Terminal: Set cursor foreground color.");
  DEFINE_BOOL(doNotSetCtype, NO, @"Terminal: Never set the CTYPE environment variable.");
  // For these, 1 is more aggressive and 0 turns the feature off:
  DEFINE_FLOAT(smartCursorColorBgThreshold, 0.5, @"Terminal: Threshold for Smart Cursor Color for background color (0 to 1).\n0 means the cursor’s background color will always be the cell’s text color, while 1 means it will always be black or white.");
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/sources/iTermCursor.m iTerm2-patched/sources/iTermCursor.m
*** iTerm2/sources/iTermCursor.m	2017-10-26 17:21:50.000000000 +1100
--- iTerm2-patched/sources/iTermCursor.m	2017-10-26 17:23:31.000000000 +1100
***************
*** 199,207 ****
                                       coord:coord];
          } else {
              // Non-smart
              [self.delegate cursorDrawCharacterAt:coord
                                       doubleWidth:doubleWidth
!                                    overrideColor:foregroundColor
                                           context:ctx
                                   backgroundColor:backgroundColor];
          }
--- 199,208 ----
                                       coord:coord];
          } else {
              // Non-smart
+             // PATCH: (Modified) Set cursor foreground color
              [self.delegate cursorDrawCharacterAt:coord
                                       doubleWidth:doubleWidth
!                                    overrideColor:[iTermAdvancedSettingsModel setCursorForegroundColor] == YES ? foregroundColor : nil
                                           context:ctx
                                   backgroundColor:backgroundColor];
          }
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/sources/iTermRootTerminalView.m iTerm2-patched/sources/iTermRootTerminalView.m
*** iTerm2/sources/iTermRootTerminalView.m	2017-10-26 17:21:50.000000000 +1100
--- iTerm2-patched/sources/iTermRootTerminalView.m	2017-10-26 17:24:06.000000000 +1100
***************
*** 16,22 ****
  #import "iTermToolbeltView.h"
  #import "PTYTabView.h"
  
! const CGFloat kHorizontalTabBarHeight = 24;
  const CGFloat kDivisionViewHeight = 1;
  
  static const CGFloat kMinimumToolbeltSizeInPoints = 100;
--- 16,22 ----
  #import "iTermToolbeltView.h"
  #import "PTYTabView.h"
  
! const CGFloat kHorizontalTabBarHeight = 0; // PATCH: (Modified) No tab bar
  const CGFloat kDivisionViewHeight = 1;
  
  static const CGFloat kMinimumToolbeltSizeInPoints = 100;
diff --exclude=.git -x '*.orig' -x '*.rej' -Prc iTerm2/sources/iTermTextDrawingHelper.m iTerm2-patched/sources/iTermTextDrawingHelper.m
*** iTerm2/sources/iTermTextDrawingHelper.m	2017-10-26 17:21:50.000000000 +1100
--- iTerm2-patched/sources/iTermTextDrawingHelper.m	2017-10-26 17:24:15.000000000 +1100
***************
*** 2543,2552 ****
  }
  
  - (BOOL)shouldShowCursor {
      if (_cursorBlinking &&
          self.isInKeyWindow &&
          _textViewIsActiveSession &&
!         [NSDate timeIntervalSinceReferenceDate] - _lastTimeCursorMoved > 0.5) {
          // Allow the cursor to blink if it is configured, the window is key, this session is active
          // in the tab, and the cursor has not moved for half a second.
          return _blinkingItemsVisible;
--- 2543,2553 ----
  }
  
  - (BOOL)shouldShowCursor {
+     // PATCH: (Modified) Blink delat after moving the cursor
      if (_cursorBlinking &&
          self.isInKeyWindow &&
          _textViewIsActiveSession &&
!         [NSDate timeIntervalSinceReferenceDate] - _lastTimeCursorMoved > [iTermAdvancedSettingsModel timeBeforeBlinks]) {
          // Allow the cursor to blink if it is configured, the window is key, this session is active
          // in the tab, and the cursor has not moved for half a second.
          return _blinkingItemsVisible;
